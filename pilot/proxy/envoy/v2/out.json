{
   "bootstrap": {
      "admin": {
         "access_log_path": "/dev/null",
         "address": {
            "socket_address": {
               "address": "127.0.0.1",
               "port_value": 15000
            }
         }
      },
      "dynamic_resources": {
         "ads_config": {
            "api_type": "GRPC",
            "cluster_name": [
               "ads"
            ]
         },
         "cds_config": {
            "ads": { }
         },
         "lds_config": {
            "ads": { }
         }
      },
      "node": {
         "cluster": "istio-proxy",
         "id": "test"
      },
      "static_resources": {
         "clusters": [
            {
               "connect_timeout": "5s",
               "dns_refresh_rate": "5s",
               "hosts": [
                  {
                     "socket_address": {
                        "address": "127.0.0.1",
                        "port_value": 15003
                     }
                  }
               ],
               "http2_protocol_options": { },
               "lb_policy": "ROUND_ROBIN",
               "name": "ads",
               "type": "LOGICAL_DNS"
            }
         ]
      }
   },
   "clusters": [
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 80
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.80",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 80
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.80",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 1081
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.1081",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 1081
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.1081",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 80
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.80",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 80
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.80",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 1081
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.1081",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "hosts": [
            {
               "socket_address": {
                  "address": "127.0.0.1",
                  "port_value": 1081
               }
            }
         ],
         "lb_policy": "ROUND_ROBIN",
         "name": "in.1081",
         "type": "STATIC"
      },
      {
         "connect_timeout": "5s",
         "eds_cluster_config": {
            "eds_config": {
               "ads": { }
            },
            "service_name": "hello.default.svc.cluster.local|http|"
         },
         "lb_policy": "ROUND_ROBIN",
         "name": "out.cfd077e46a60ae88e9a0f3f81d9ab1c9",
         "type": "EDS"
      },
      {
         "connect_timeout": "5s",
         "eds_cluster_config": {
            "eds_config": {
               "ads": { }
            },
            "service_name": "world.default.svc.cluster.local|http|"
         },
         "lb_policy": "ROUND_ROBIN",
         "name": "out.7cc203c23985ce69912a4669ebd8e709",
         "type": "EDS"
      },
      {
         "connect_timeout": "5s",
         "eds_cluster_config": {
            "eds_config": {
               "ads": { }
            },
            "service_name": "hello.default.svc.cluster.local|http-status|"
         },
         "lb_policy": "ROUND_ROBIN",
         "name": "out.191fabc17d2bff9b1b502fcbf242f0a1",
         "type": "EDS"
      },
      {
         "connect_timeout": "5s",
         "eds_cluster_config": {
            "eds_config": {
               "ads": { }
            },
            "service_name": "world.default.svc.cluster.local|http-status|"
         },
         "lb_policy": "ROUND_ROBIN",
         "name": "out.7f8465d2461131fa9e56535b0ff87b61",
         "type": "EDS"
      }
   ],
   "listeners": [
      {
         "address": {
            "socket_address": {
               "address": "0.0.0.0",
               "port_value": 15001
            }
         },
         "filter_chains": [
            {
               "filters": [ ]
            }
         ],
         "name": "virtual",
         "use_original_dst": true
      },
      {
         "address": {
            "socket_address": {
               "address": "10.1.1.0",
               "port_value": 80
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_80",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_80",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.80"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_80"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.1.1.0_80"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.1.1.1",
               "port_value": 80
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_80",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_80",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.80"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_80"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.1.1.1_80"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.1.1.0",
               "port_value": 1081
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_1081",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_1081",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.1081"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_1081"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.1.1.0_1081"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.1.1.1",
               "port_value": 1081
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_1081",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_1081",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.1081"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_1081"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.1.1.1_1081"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.2.1.0",
               "port_value": 80
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_80",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_80",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.80"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_80"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.2.1.0_80"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.2.1.1",
               "port_value": 80
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_80",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_80",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.80"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_80"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.2.1.1_80"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.2.1.0",
               "port_value": 1081
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_1081",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_1081",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.1081"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_1081"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.2.1.0_1081"
      },
      {
         "address": {
            "socket_address": {
               "address": "10.2.1.1",
               "port_value": 1081
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "route_config": {
                           "name": "in_HTTP_1081",
                           "validate_clusters": false,
                           "virtual_hosts": [
                              {
                                 "domains": [
                                    "*"
                                 ],
                                 "name": "in_HTTP_1081",
                                 "routes": [
                                    {
                                       "decorator": {
                                          "operation": "inbound_route"
                                       },
                                       "match": {
                                          "prefix": "/"
                                       },
                                       "route": {
                                          "cluster": "in.1081"
                                       }
                                    }
                                 ]
                              }
                           ]
                        },
                        "stat_prefix": "in_HTTP_1081"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "in_HTTP_10.2.1.1_1081"
      },
      {
         "address": {
            "socket_address": {
               "address": "0.0.0.0",
               "port_value": 80
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "rds": {
                           "config_source": {
                              "ads": { }
                           },
                           "route_config_name": "80"
                        },
                        "stat_prefix": "out_HTTP_80"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "out_HTTP_80"
      },
      {
         "address": {
            "socket_address": {
               "address": "0.0.0.0",
               "port_value": 81
            }
         },
         "deprecated_v1": {
            "bind_to_port": false
         },
         "filter_chains": [
            {
               "filters": [
                  {
                     "config": {
                        "access_log": [
                           {
                              "config": {
                                 "path": "/dev/stdout"
                              },
                              "name": "envoy.file_access_log"
                           }
                        ],
                        "codec_type": "AUTO",
                        "generate_request_id": true,
                        "http_filters": [
                           {
                              "name": "envoy.router"
                           }
                        ],
                        "rds": {
                           "config_source": {
                              "ads": { }
                           },
                           "route_config_name": "81"
                        },
                        "stat_prefix": "out_HTTP_81"
                     },
                     "name": "envoy.http_connection_manager"
                  }
               ]
            }
         ],
         "name": "out_HTTP_81"
      }
   ],
   "routes": [
      {
         "name": "80",
         "validate_clusters": false,
         "virtual_hosts": [
            {
               "domains": [
                  "hello.default.svc.cluster.local",
                  "hello.default.svc.cluster",
                  "hello.default.svc",
                  "hello.default",
                  "hello",
                  "10.1.0.0",
                  "hello.default.svc.cluster.local:80",
                  "hello.default.svc.cluster:80",
                  "hello.default.svc:80",
                  "hello.default:80",
                  "hello:80",
                  "10.1.0.0:80"
               ],
               "name": "hello.default.svc.cluster.local:80",
               "routes": [
                  {
                     "decorator": {
                        "operation": "default_route"
                     },
                     "match": {
                        "prefix": "/"
                     },
                     "route": {
                        "cluster": "out.cfd077e46a60ae88e9a0f3f81d9ab1c9"
                     }
                  }
               ]
            },
            {
               "domains": [
                  "world.default.svc.cluster.local",
                  "world.default.svc.cluster",
                  "world.default.svc",
                  "world.default",
                  "world",
                  "10.2.0.0",
                  "world.default.svc.cluster.local:80",
                  "world.default.svc.cluster:80",
                  "world.default.svc:80",
                  "world.default:80",
                  "world:80",
                  "10.2.0.0:80"
               ],
               "name": "world.default.svc.cluster.local:80",
               "routes": [
                  {
                     "decorator": {
                        "operation": "default_route"
                     },
                     "match": {
                        "prefix": "/"
                     },
                     "route": {
                        "cluster": "out.7cc203c23985ce69912a4669ebd8e709"
                     }
                  }
               ]
            }
         ]
      },
      {
         "name": "81",
         "validate_clusters": false,
         "virtual_hosts": [
            {
               "domains": [
                  "hello.default.svc.cluster.local",
                  "hello.default.svc.cluster",
                  "hello.default.svc",
                  "hello.default",
                  "hello",
                  "10.1.0.0",
                  "hello.default.svc.cluster.local:81",
                  "hello.default.svc.cluster:81",
                  "hello.default.svc:81",
                  "hello.default:81",
                  "hello:81",
                  "10.1.0.0:81"
               ],
               "name": "hello.default.svc.cluster.local:81",
               "routes": [
                  {
                     "decorator": {
                        "operation": "default_route"
                     },
                     "match": {
                        "prefix": "/"
                     },
                     "route": {
                        "cluster": "out.191fabc17d2bff9b1b502fcbf242f0a1"
                     }
                  }
               ]
            },
            {
               "domains": [
                  "world.default.svc.cluster.local",
                  "world.default.svc.cluster",
                  "world.default.svc",
                  "world.default",
                  "world",
                  "10.2.0.0",
                  "world.default.svc.cluster.local:81",
                  "world.default.svc.cluster:81",
                  "world.default.svc:81",
                  "world.default:81",
                  "world:81",
                  "10.2.0.0:81"
               ],
               "name": "world.default.svc.cluster.local:81",
               "routes": [
                  {
                     "decorator": {
                        "operation": "default_route"
                     },
                     "match": {
                        "prefix": "/"
                     },
                     "route": {
                        "cluster": "out.7f8465d2461131fa9e56535b0ff87b61"
                     }
                  }
               ]
            }
         ]
      }
   ]
}
